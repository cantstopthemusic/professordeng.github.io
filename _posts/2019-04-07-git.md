---
title: git 常用命令
date: 2019-12-26
---

在 git 下载完后，需要配置用户名和用户邮箱（不要直接复制下面语句，那是我的名字和邮箱）。

```bash
git config --global user.name "professordeng"
git config --global user.email "2248262060@qq.com"
```

下面记录了最常用的一些命令。

```bash
git add --all               # 将所有修改过的文件放到暂存区
git add filename            # 将某个文件提交到暂存区
git commit -m "description" # 将暂存区的文件提交到本地仓库
git checkout filename       # 撤回当前工作区的某文件的修改
git reset --hard HEAD^      # 回退到上一个版本
```

## 1. 绑定 github 账号

由于我经常重装机子，所以仓库通常备份到 github 上，因此需要绑定 github 账号。

```bash
git config --list    # 查看自己的名字和邮箱，没有的话自行配置
ssh-keygen -t rsa -C "2248262060@qq.com" # 生成密钥和公钥
```

然后在用户目录下有个 `.ssh` 的文件，利用 `cat` 指令得到公钥复制到 `github` 设置中的 ssh 中完成认证。接下来客户端和 `github` 就可以互相传送文件了。

```bash
git pull   # 拉取更新
git push   # 推送本地更新到远程仓库
```

## 2. 版本回退

1. 工作区

   `git checkout filename` ：对某一文件进行回退。

   `git checkout .` ：对所有跟踪文件进行回退。

2. 暂存区

   `git reset HEAD file` ：将暂存区文件放回工作区。

   `git reset HEAD .` ：将所有暂存区文件放回工作区。

3. 已经提交的修改

   `git reset --head HEAD^` ：彻底回到上一个版本。

   `git reset --head commit_id` ：回到某一版本。

   提交的记录可以使用 `git log` 查看。

## 3. 分支与合并

由于我还不需要进行合作写项目，所以该功能先不写了。